<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Performance Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bree+Serif&family=Caveat:wght@400;700&family=Lobster&family=Monoton&family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Playfair+Display+SC:ital,wght@0,400;0,700;1,700&family=Playfair+Display:ital,wght@0,400;0,700;1,700&family=Roboto:ital,wght@0,400;0,700;1,400;1,700&family=Source+Sans+Pro:ital,wght@0,400;0,700;1,700&family=Work+Sans:ital,wght@0,400;0,700;1,700&display=swap');
        body {
            background-image: url("https://images.rawpixel.com/image_800/cHJpdmF0ZS9sci9pbWFnZXMvd2Vic2l0ZS8yMDIyLTA1L3Y5NDQtYmItMTYtam9iNTk4LmpwZw.jpg");
            background-size: cover;
            color: #343a40;
            font-family: "Bree Serif";
        }

        h1 {
            color: #28a745;
            margin-bottom: 20px;
        }

        .card {
            margin: 15px 0;
        }

        .progress {
            height: 30px;
        }

        .myTable {
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(13px);
            -webkit-backdrop-filter: blur(13px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .congrats {
            font-size: 20px;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1 class="text-center">Student Performance Dashboard</h1>

        <!-- Add New Student Form -->
        <h2>Add New Student</h2>
        <form id="add-student-form">
            <div class="form-group">
                <input type="text" class="form-control" id="name" placeholder="Student Name" required>
            </div>
            <div class="form-group">
                <input type="number" class="form-control" id="marks" placeholder="Year-End Marks" min="0" max="100" required>
            </div>
            <div class="form-group">
                <input type="number" class="form-control" id="achievements" placeholder="Achievements" min="0" required>
            </div>
            <div class="form-group">
                <input type="number" class="form-control" id="certificates" placeholder="Participation Certificates" min="0" required>
            </div>
            <div class="form-group">
                <input type="number" class="form-control" id="activities" placeholder="Other Activities" min="0" required>
            </div>
            <button type="submit" class="btn btn-success"><i class="fas fa-plus"></i> Add Student</button>
        </form>

        <!-- Student Data Table -->
        <table class="mt-3 myTable table table-striped">
            <thead class="thead-light">
                <tr>
                    <th>Student</th>
                    <th>Year-End Marks</th>
                    <th>Achievements</th>
                    <th>Participation Certificates</th>
                    <th>Other Activities</th>
                    <th>Total Score</th>
                </tr>
            </thead>
            <tbody id="student-table-body">
                <!-- Data will be inserted by JavaScript -->
            </tbody>
        </table>

        <!-- Top 3 Students -->
        <h2>Top 3 Students</h2>
        <p class="congrats"> Congratulatios To The Following Students for Performing Well in Acedamics, Technical Activities and Non Technical Activities. </p>
        <div class="row" id="top-students">
            <!-- Top students will be inserted by JavaScript -->
        </div>

    </div>

    <!-- JavaScript for logic -->
    <script>
        // Initial Data for 20 students
        let students = [{
                name: 'Student 1',
                marks: 85,
                achievements: 5,
                certificates: 4,
                activities: 3
            },
            {
                name: 'Student 2',
                marks: 90,
                achievements: 3,
                certificates: 5,
                activities: 4
            },
            {
                name: 'Student 3',
                marks: 70,
                achievements: 4,
                certificates: 3,
                activities: 5
            },
            {
                name: 'Student 4',
                marks: 88,
                achievements: 2,
                certificates: 4,
                activities: 3
            },
            {
                name: 'Student 5',
                marks: 92,
                achievements: 5,
                certificates: 5,
                activities: 5
            },
            {
                name: 'Student 6',
                marks: 60,
                achievements: 1,
                certificates: 2,
                activities: 2
            },
            {
                name: 'Student 7',
                marks: 80,
                achievements: 4,
                certificates: 3,
                activities: 2
            },
            {
                name: 'Student 8',
                marks: 72,
                achievements: 3,
                certificates: 3,
                activities: 2
            },
            {
                name: 'Student 9',
                marks: 75,
                achievements: 2,
                certificates: 2,
                activities: 4
            },
            {
                name: 'Student 10',
                marks: 88,
                achievements: 4,
                certificates: 5,
                activities: 5
            },
            {
                name: 'Student 11',
                marks: 94,
                achievements: 5,
                certificates: 5,
                activities: 4
            },
            {
                name: 'Student 12',
                marks: 55,
                achievements: 1,
                certificates: 2,
                activities: 1
            },
            {
                name: 'Student 13',
                marks: 83,
                achievements: 3,
                certificates: 4,
                activities: 4
            },
            {
                name: 'Student 14',
                marks: 91,
                achievements: 4,
                certificates: 4,
                activities: 5
            },
            {
                name: 'Student 15',
                marks: 89,
                achievements: 5,
                certificates: 5,
                activities: 4
            },
            {
                name: 'Student 16',
                marks: 78,
                achievements: 3,
                certificates: 4,
                activities: 3
            },
            {
                name: 'Student 17',
                marks: 65,
                achievements: 2,
                certificates: 2,
                activities: 3
            },
            {
                name: 'Student 18',
                marks: 84,
                achievements: 4,
                certificates: 3,
                activities: 4
            },
            {
                name: 'Student 19',
                marks: 68,
                achievements: 3,
                certificates: 3,
                activities: 2
            },
            {
                name: 'Student 20',
                marks: 81,
                achievements: 4,
                certificates: 4,
                activities: 3
            }
        ];

        // Function to calculate total score for each student
        function calculateTotalScore(student) {
            return (student.marks * 0.6) + (student.achievements * 0.2) + (student.certificates * 0.1) + (student.activities * 0.1);
        }

        // Function to render student table
        function renderStudentTable() {
            const tableBody = document.getElementById('student-table-body');
            tableBody.innerHTML = ''; // Clear existing table rows
            students.forEach(student => {
                const totalScore = calculateTotalScore(student).toFixed(2);
                const row = `
          <tr>
            <td>${student.name}</td>
            <td>${student.marks}</td>
            <td>${student.achievements}</td>
            <td>${student.certificates}</td>
            <td>${student.activities}</td>
            <td>${totalScore}</td>
          </tr>
        `;
                tableBody.insertAdjacentHTML('beforeend', row);
            });
        }

        // Function to find and render the top 3 students
        function renderTopStudents() {
            const topStudents = students
                .map(student => ({
                    name: student.name,
                    total: calculateTotalScore(student)
                }))
                .sort((a, b) => b.total - a.total)
                .slice(0, 3);

            const topStudentsContainer = document.getElementById('top-students');
            topStudentsContainer.innerHTML = ''; // Clear existing top students
            topStudents.forEach(student => {
                const card = `
          <div class="col-md-4">
            <div class="card text-white bg-success">
              <div class="card-header">${student.name}</div>
              <div class="card-body">
                <h5 class="card-title">Total Score: ${student.total.toFixed(2)}</h5>
                <div class="progress">
                  <div class="progress-bar" role="progressbar" style="width: ${student.total}%; background-color: #28a745;" aria-valuenow="${student.total}" aria-valuemin="0" aria-valuemax="100">${student.total.toFixed(2)}</div>
                </div>
              </div>
            </div>
          </div>
        `;
                topStudentsContainer.insertAdjacentHTML('beforeend', card);
            });
        }

        // Function to handle form submission and add a new student
        document.getElementById('add-student-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const name = document.getElementById('name').value;
            const marks = parseFloat(document.getElementById('marks').value);
            const achievements = parseFloat(document.getElementById('achievements').value);
            const certificates = parseFloat(document.getElementById('certificates').value);
            const activities = parseFloat(document.getElementById('activities').value);

            // Add new student to the students array
            students.push({
                name,
                marks,
                achievements,
                certificates,
                activities
            });

            // Clear form fields
            this.reset();

            // Re-render the student table and top students
            renderStudentTable();
            renderTopStudents();
        });

        // Initial render of table and top students
        renderStudentTable();
        renderTopStudents();
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>